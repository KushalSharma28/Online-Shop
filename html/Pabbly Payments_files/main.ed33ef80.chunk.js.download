(this["webpackJsonpsubscription-frontend"]=this["webpackJsonpsubscription-frontend"]||[]).push([[48],{138:function(n,t,e){"use strict";var a=function(){var n=document.location.protocol,t=window.location.hostname;return"localhost"===t||"dbd0d5452885.ngrok.io"==t?"http://localhost:1337":"testpayments.pabbly.com"===t||"testp.pabbly.com"===t?"https://testpayments.pabbly.com/api":"mg-mail4.com"===t?"http://mg-mail4.com/api":"payments.pabbly.com"===t?"https://payments.pabbly.com/api":n+"//"+t+"/api"}();t.a=a},234:function(n,t,e){"use strict";e.r(t);var a=e(229),o=e(230),i=e(233),r=e(231),c=e(232),s=e(33),l=e.n(s),u=(e(892),function(n){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,n),Object(o.a)(t,[{key:"render",value:function(){var n="sk-three-bounce "+this.props.className,t=this.props.style;return l.a.createElement("div",{className:n,style:t},l.a.createElement("div",{className:"sk-child sk-bounce1"}),l.a.createElement("div",{className:"sk-child sk-bounce2"}),l.a.createElement("div",{className:"sk-child sk-bounce3"}))}}]),t}(l.a.Component));t.default=u},239:function(n,t,e){"use strict";function a(n){var t="";if("logout"===n)t="localhost"===(e=window.location.hostname)?"http://localhost:5000/"+n:"testpayments.pabbly.com"===e?"https://testpayments.pabbly.com/"+n:"mg-mail4.com"===e?"http://accounts.mg-mail4.com/"+n+"?s=pabbly-subscriptions&host="+e:"https://accounts.pabbly.com/"+n;else if("login"===n){var e;t="localhost"===(e=window.location.hostname)?"http://localhost:5000/signin":"testpayments.pabbly.com"===e?"https://testpayments.pabbly.com/signin":"mg-mail4.com"===e?"http://accounts.mg-mail4.com/"+n+"?s=pabbly-subscriptions&host="+e:"https://accounts.pabbly.com/"+n}return t}e.d(t,"a",(function(){return a}))},359:function(n,t,e){n.exports=e(910)},84:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var a=e(61),o=e.n(a),i=e(85),r=e(140),c=e.n(r),s=e(138);function l(n,t){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(o.a.mark((function n(t,e){var a,r,l,u,p=arguments;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=p.length>2&&void 0!==p[2]?p[2]:{},r=p.length>3&&void 0!==p[3]?p[3]:null,"GET"===e){n.next=8;break}return a=a||(a={}),n.next=6,c()({method:"GET",url:"".concat(s.a,"/csrfToken"),withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 6:l=n.sent,a._csrf=l.data._csrf;case 8:return n.next=10,c()({method:e,url:"".concat(s.a,"/").concat(t),withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},data:a,params:"GET"===e?a:""}).then((function(n){return n.data})).then((function(n){return null!==r&&r(n),n})).catch(function(){var n=Object(i.a)(o.a.mark((function n(i){var l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof i.response||403!==i.response.status){n.next=6;break}return console.log("403 occurs"),n.next=4,c()({method:e,url:"".concat(s.a,"/").concat(t),withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},data:a}).then((function(n){return n.data})).then((function(n){return null!==r&&r(n),n})).catch((function(n){console.log("error",JSON.stringify(n))}));case 4:return l=n.sent,n.abrupt("return",l);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 10:return u=n.sent,n.abrupt("return",u);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},892:function(n,t,e){},910:function(n,t,e){"use strict";e.r(t);e(360),e(362),e(363),e(364),e(365),e(366),e(367),e(368),e(369),e(370),e(371),e(372),e(373),e(374),e(375),e(376),e(377),e(378),e(379),e(380),e(381),e(382),e(383),e(384),e(385),e(386),e(387),e(144),e(388),e(389),e(390),e(391),e(392),e(393),e(394),e(395),e(396),e(397),e(398),e(399),e(400),e(401),e(402),e(403),e(404),e(405),e(406),e(408),e(409),e(411),e(412),e(413),e(414),e(194),e(415),e(416),e(417),e(418),e(419),e(420),e(421),e(422),e(423),e(424),e(425),e(426),e(427),e(428),e(429),e(430),e(431),e(432),e(433),e(434),e(435),e(436),e(437),e(438),e(439),e(440),e(441),e(442),e(443),e(444),e(445),e(446),e(447),e(448),e(449),e(450),e(451),e(452),e(453),e(454),e(455),e(456),e(457),e(458),e(459),e(460),e(461),e(462),e(463),e(464),e(465),e(466),e(467),e(469),e(470),e(471),e(472),e(473),e(474),e(475),e(477),e(478),e(479),e(480),e(481),e(482),e(483),e(484),e(485),e(486),e(487),e(488),e(489),e(490),e(491),e(274),e(492),e(493),e(494),e(495),e(275),e(496),e(497),e(498),e(499),e(500),e(501),e(502),e(503),e(504),e(505),e(506),e(507),e(508),e(509),e(510),e(511),e(512),e(513),e(514),e(515),e(516),e(517),e(518),e(519),e(520),e(521),e(523),e(524),e(525),e(526),e(527),e(528),e(529),e(530),e(531),e(532),e(533),e(534),e(535),e(536),e(537),e(538),e(539),e(540),e(541),e(542),e(543),e(544),e(545),e(546),e(547),e(548),e(549),e(550),e(551),e(552),e(553),e(554),e(555),e(202),e(556),e(557),e(558),e(559),e(560),e(561),e(562),e(564),e(565),e(566),e(567),e(568),e(569),e(570),e(571),e(573),e(574),e(575),e(576),e(577),e(578),e(579),e(580),e(581),e(582),e(583),e(584),e(585),e(586),e(587),e(588),e(589),e(590),e(591),e(592),e(593),e(594),e(595),e(596),e(597),e(599),e(600),e(601),e(602),e(603),e(604),e(605),e(606),e(607),e(608),e(609),e(610),e(611),e(612),e(613),e(614),e(615),e(616),e(617),e(618),e(619),e(620),e(621),e(622),e(623),e(624),e(625),e(626),e(627),e(628),e(629),e(630),e(632),e(633),e(634),e(635),e(636),e(637),e(638),e(639),e(640),e(641),e(642),e(643),e(644),e(645),e(646),e(647),e(649),e(285);var a=e(61),o=e.n(a),i=e(85),r=(e(204),e(658),e(660),e(698),e(885),e(33)),c=e.n(r),s=e(179),l=e.n(s),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(){if("serviceWorker"in navigator){if(new URL("https://d1izqpt1s10trr.cloudfront.net/main",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("https://d1izqpt1s10trr.cloudfront.net/main","/service-worker.js");u?function(n){fetch(n).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):d(n)})).catch((function(){}))}(n):d(n)}))}}function d(n){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;t.onstatechange=function(){"installed"===t.state&&navigator.serviceWorker.controller}}})).catch((function(n){console.error("Error during service worker registration:",n)}))}var f=e(178),m=e.n(f),h=e(234),w=["payments.pabbly.com","localhost:5000","mg-mail4.com","testpayments.pabbly.com"],b=e(238),g=e(84),x=e(239);e(203);function y(){return c.a.createElement("div",{className:"container-wrap p-t-30 p-b-30",style:{height:"1167px"}},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"loader-container"},c.a.createElement("div",{className:"text-center m-t-30",style:{position:"absolute",top:"250px",transform:"translateX(-50%)",left:"50%"}},c.a.createElement(h.default,null)))))}var O,v=m()({loader:function(){return Promise.all([e.e(25),e.e(26),e.e(178)]).then(e.bind(null,2078))},loading:function(){return c.a.createElement("div",null)}}),k=m()({loader:function(){return Promise.all([e.e(25),e.e(26),e.e(228)]).then(e.bind(null,2079))},loading:function(){return c.a.createElement(y,null)}}),j=window.location.href;if(j.indexOf("/portal")>0||j.indexOf("/affiliate/signup")>0)if(j.indexOf("/portal/logout")>0){var E=window.location.href.replace(/\/$/,""),T=E.substr(E.lastIndexOf("/")+1);O=T,Object(g.a)("portal/logout","POST",{},(function(n){"success"===n.status&&window.location.assign("/portal/signin/"+O)}))}else!function(){N.apply(this,arguments)}();else j.indexOf("/logout")>0?Object(g.a)("user/logout","POST",{},(function(n){"success"===n.status&&window.location.assign("/signin")})):function(){_.apply(this,arguments)}();function _(){return(_=Object(i.a)(o.a.mark((function n(){var t,e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=window.location.pathname,e=window.location.host,!(t.indexOf("/thankyou")<0&&t.indexOf("/subscribe")<0&&t.indexOf("/checkout")<0&&t.indexOf("/affurl")<0&&t.indexOf("/secureinvoice")<0&&t.indexOf("/forgotpassword")<0&&t.indexOf("/updatepaymentinfo")<0)){n.next=10;break}if(w.includes(e)){n.next=8;break}if(!(t.indexOf("/404")<0)){n.next=6;break}return n.abrupt("return",window.location.assign("/404"));case 6:n.next=10;break;case 8:return n.next=10,Object(g.a)("api/verify","POST",{},(function(n){"success"===n.status?"/"===t?window.location.assign("/app/"):(t.indexOf("signin")>0||t.indexOf("signup")>0)&&window.location.assign("/app/"):"blocked"===n.status?t.indexOf("/blocked")<0&&window.location.assign("/blocked/"):t.indexOf("/signin")<0&&t.indexOf("/signup")<0&&window.location.assign(Object(x.a)("login"))}));case 10:l.a.render(c.a.createElement(v,null),document.getElementById("main-wrapper")),p();case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function N(){return(N=Object(i.a)(o.a.mark((function n(){var t,e,a,r,s,u,d,f,m;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=window.location.pathname,e=window.location.pathname.split("/"),a="",e.forEach((function(n,t){"portal"===n&&(a=t)})),r="",r=t.indexOf("/signin")>-1||t.indexOf("/portal/access")>-1?e[a+2]:e[a+3],s=window.location.href,u="","",!(s.indexOf("/portal/create")>0||s.indexOf("/portal/forgotpassword")>0||s.indexOf("/portal/reset")>0||s.indexOf("/affiliate/signup")>0)){n.next=12;break}n.next=28;break;case 12:if(!(s.indexOf("/portal/access")>0)){n.next=24;break}return d=b.parse(window.location.search),u=window.location.pathname,u.replace(/\/$/,""),f=d.tk,(m={}).token=f,m.portal_name=r,n.next=22,Object(g.a)("portal/access","POST",m,(function(n){"success"===n.status?"undefined"!==typeof n.data.redirect_url&&""!==n.data.redirect_url?window.location.assign(n.data.redirect_url):t.indexOf("/portal/app")&&window.location.assign("/portal/app/en/"+r):t.indexOf("/signin")<0&&t.indexOf("/signup")<0&&window.location.assign("/portal/signin/"+r)}));case 22:n.next=28;break;case 24:return u=window.location.href,u.replace(/\/$/,""),n.next=28,Object(g.a)("portal/verify/"+r,"GET",{},function(){var n=Object(i.a)(o.a.mark((function n(e){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"success"===e.status?t.indexOf("/portal/app")&&Object(g.a)("user/getprofilebyportal/"+r,"GET",{},(function(n){if("success"===n.status){var t=n.data,e="en";"undefined"!==t.portal_data&&(e="undefined"!==typeof t.portal_data.default_portal_language?t.portal_data.default_portal_language:"en"),window.location.assign("/portal/app/"+e+"/"+r)}else window.location.assign("/portal/app/en/"+r)})):t.indexOf("/signin")<0&&t.indexOf("/signup")<0&&window.location.assign("/portal/signin/"+r);case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 28:l.a.render(c.a.createElement(k,null),document.getElementById("main-wrapper")),p();case 30:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}},[[359,49,50]]]);
//# sourceMappingURL=main.ed33ef80.chunk.js.map